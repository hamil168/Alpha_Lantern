# Alpha_Lantern DEMO: Early stage PoC API for Web-Model-DB
### TODO:
- Connect DB to Azure DB (currently connects to local sqllite generated by the script)


_Contents_:

**app_with_model.py**: RESTful API scripted in Python, using flask and sqlalchemy. It connects front end, database, and the ml model.

*TO RUN:*
- Install flask and flask-sqlalchemy on your environment
- Put the api python script in the folder of your choice
- Create a "Templates" folder in the folder with the script
- put the html templates in the Templates folder
- run the python script from the command line

*Database Note:* As implemented, uses a local sqllite database, or if there is none, generates one as part of the SQLAlchemy functionality. Can easily be changed to other types of DBs in other locations.

**model_config.py**: configuration settings for the machine learning model.

**model_utils.py**: utility scripts for processing user input and model output based on hamil168/NSV_Hackfest/blob/master/Prep_Cleaning_For_Deployment.ipynb

**[templates]**: web templates that can be called from the API.

**[ml_model]**: folder containing the serialized LSTM machine learning model from the NoSchoolViolence/NSV_Hackfest repo.

**[w2v_model]**: empty folder that requires the language model. They can be very large, so it is here as a placeholder.

**screenshot*.png**: screenshot of example front end output

**[Web Tutorial]**: the flask-sqlalchemy tutorial used

### Resources for building a RESTful ML Model API using Flask
Tutorial/Blog:
https://www.toptal.com/python/python-machine-learning-flask-example

### Other Notes:
- model_config.py, model_utils.py provide functions to clean and predict user data
- the model itself needs to be included as a .h5 file and loaded as part of the api
- model.h5 is an LSTM developed in NSV_Hackfest, 6 words maximum input (after cleaning)
